{"version":3,"file":"sort-filter-find.mjs","sources":["../../../projects/sort-filter-find/src/lib/sort-filter-find.ts","../../../projects/sort-filter-find/src/public-api.ts","../../../projects/sort-filter-find/src/sort-filter-find.ts"],"sourcesContent":["type sortType =\"ASC\"| \"DESC\";\r\n\r\n/**\r\n * classe pour effectuer des operations simples sur les array : Sort / Find / Filter\r\n */\r\n\r\nexport class SortFilterFind<T> {\r\n  private data : Array<T>=[];\r\n  private oneData : T | null = null;\r\n  private typeSort : sortType=\"ASC\";\r\n  private fieldName : keyof T = \"\" as keyof T;\r\n  private value :  string | number | boolean =\"\";\r\n  \r\n  constructor(\r\n    data: Array<T>,\r\n    typeSort: sortType,\r\n    fieldName: keyof T,\r\n    value: string | number | boolean =\"\"\r\n) {\r\n    this.data = data;\r\n    this.typeSort = typeSort;\r\n    this.fieldName = fieldName;\r\n    this.value = value;\r\n}\r\n\r\n  get valueData() : T | T[] | null{\r\n      return (this.data.length !==0)? this.data : this.oneData ; \r\n  }\r\n  /**\r\n   * sort : classe par ordre croissant ou decroissant\r\n   * @returns T[] | undefined\r\n   */\r\n  sort() : this | undefined{ \r\n\r\n    if (!Array.isArray(this.data) || this.data.length === 0) {\r\n        return undefined; \r\n      }\r\n  \r\n      const sortFactor = this.typeSort === \"ASC\" ? 1 : -1;\r\n  \r\n      this.data.sort((a, b) => {\r\n        if (typeof a[this.fieldName] === \"string\" && typeof b[this.fieldName] === \"string\") {\r\n          return sortFactor * (a[this.fieldName] as string).localeCompare(b[this.fieldName] as string);\r\n        }\r\n  \r\n        if (typeof a[this.fieldName] === \"number\" && typeof b[this.fieldName] === \"number\") {\r\n          return sortFactor * ((a[this.fieldName] as number) - (b[this.fieldName] as number));\r\n        }\r\n  \r\n        return 0;\r\n      });\r\n  \r\n      return this;\r\n  }\r\n\r\n  /**\r\n   * filter : filtre generique\r\n   * @returns T[] | undefined\r\n   */\r\n  filter() : this | undefined\r\n  {\r\n    if (!Array.isArray(this.data) || this.data.length === 0) {\r\n        return undefined;\r\n      }\r\n      this.data = this.data.filter((element) => element[this.fieldName] === this.value);\r\n      return this;\r\n  }\r\n  /**\r\n   * find : recupere l'Objet T\r\n   * @returns T | undefined | null\r\n   */\r\n  find() : this | undefined{\r\n    if (!Array.isArray(this.data) || this.data.length === 0) {\r\n        return undefined;\r\n      }\r\n      this.oneData = this.data.find((element)=> element[this.fieldName] === this.value) ?? null;\r\n      this.data=[];\r\n      return this;\r\n  }\r\n\r\n}","/*\r\n * Public API Surface of sort-filter-find\r\n */\r\n\r\nexport * from './lib/sort-filter-find';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}